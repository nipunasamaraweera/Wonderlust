<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="Wonderlust" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="It is a simple Travel budget webapp" />
    <meta name="keywords" content="Wonderlust" />


    <!--====== TITLE TAG ======-->
    <title>WonderTravel</title>


    <!--====== STYLESHEETS =======-->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/icofont.css">
    <link rel="stylesheet" href="assets/css/venobox.min.css">
    <link rel="stylesheet" href="assets/css/err.css">

    <!--====== OWL CAROUSEL STYLESHEETS ======-->
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/css/owl.theme.default.min.css">

    <!--====== MAIN STYLESHEETS ======-->
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js"></script>


</head>

<body data-spy="scroll" data-target="#main-nav" data-offset="60">

    <!--START TOP AREA-->
    <nav class="navbar navbar-expand-lg site-navigation fixed-top app-nav">
        <div class="container">
            <a class="navbar-brand page-scroll" href="#"><img src="assets/img/w_logo_1.png" alt="s-box"
                    class="img-fluid"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"><i class="fa fa-bars"></i></span>
            </button>

            <div class="collapse navbar-collapse " id="navbarNav">
                <ul class="navbar-nav ">
                    <li class="nav-item">
                        <a class="nav-link " href="#" data-scroll-nav="0">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="#planner" data-scroll-nav="1">Planner</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="#feature" data-scroll-nav="2">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="#gallery" data-scroll-nav="5">Gallery</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="how-it-works.html">How It Works</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="pricing.html">Packages</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="#footer-area" data-scroll-nav="6">Contact</a>
                    </li>
                </ul>
                <span id="userDisplay" class="navbar-text ml-auto"></span> <!-- This is where the username will be displayed -->

    </nav>
    <!--END TOP AREA-->

    <!--BANNER AREA START-->
    <section id="home">
        <div class="banner-bg-app p-3 p-md-5" data-scroll-index="0">
            <div class="container">
                <div class="row">
                    <div class="col-lg-7 col-sm-12">
                        <div class="app-banner-content ">
                            <h5 class="subtitle">WONDERTRAVEL</h5>
                            <h1 class="lg-title">Every trip in one place</h1>
                            <p>WONDERTRAVEL, helps you keep track of your flights, hotels, car
                                rentals, confirmation numbers, and other details all in one place so you
                                don't have to search through multiple emails or apps to find what you need.</p>
                            <a href="signup.html" class="btn btn-feature btn-circled">Sign Up<i
                                    class="fa fa-angle-double-right"></i></a>
                        </div>
                    </div>

                    <div class="col-lg-5 col-sm-12 d-sm-none d-lg-block d-md-none text-right">
                        <div class="banner-app-img app-padding">
                            <img src="assets/img/app/Travel.png" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--BANNER AREA END-->

    <!--PLANNER AREA START-->
    <section id="planner" data-scroll-index="1">
        <div class="container">
            <div class="itinerary-planner">
                <div class="heading text-center">
                    <h3>Itinerary Planner</h3>
            
                <form id="myForm">
                    <div class="form-group">
                        <label for="destination">Destination:</label>
                        <select class="form-control" id="destination" required>
                            <option value="">Select a destination</option>
                            <option>Sydney, Australia</option>
                            <option>Paris, France</option>
                            <option>Tokyo, Japan</option>
                            <option>New York, USA</option>
                            <option>Rome, Italy</option>
                        </select>
                        <span id="destination-error" class="error-message"></span>
                    </div>
            
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="startDate">Start Date:</label>
                            <input type="date" class="form-control" id="startDate" required>
                            <span id="startDate-error" class="error-message"></span>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="endDate">End Date:</label>
                            <input type="date" class="form-control" id="endDate" required>
                            <span id="endDate-error" class="error-message"></span>
                        </div>
                    </div>
            
                    
                    
            
                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label for="adults">Adults:</label>
                            <input type="number" class="form-control" id="adults" placeholder="0" min="0" required>
                            <span id="adults-error" class="error-message"></span>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="teens">Teens:</label>
                            <input type="number" class="form-control" id="teens" placeholder="0" min="0" required>
                            <span id="teens-error" class="error-message"></span>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="kids">Kids:</label>
                            <input type="number" class="form-control" id="kids" placeholder="0" min="0" required>
                            <span id="kids-error" class="error-message"></span>
                        </div>
                    </div>
                    <span id="total-error" class="error-message"></span>
                    <span id="total">Total: 0</span>
                    
                    <div class="form-group">
                        <label for="travelerType">Traveler Type:</label>
                        <select class="form-control" id="travelerType" required>
                            <option value="">Select a traveler type</option>
                            <option value="solo">Solo</option>
                            <option value="couple">Couple</option>
                            <option value="family">Family</option>
                            <option value="group">Group</option>
                        </select>
                        <span id="travelerType-error" class="error-message"></span>
                    </div>


                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" class="form-control" id="email" required>
                        <span id="email-error" class="error-message"></span>
                    </div>
            
                    <div class="form-group">
                        <label for="contactNumber">Contact Number:</label>
                        <input type="tel" class="form-control" id="contactNumber" required>
                        <span id="contactNumber-error" class="error-message"></span>
                    </div>
            
                    
            
                    <button type="submit" id="submit_msg" class="btn btn-primary" >Plan My Trip</button>
                </form>
            </div>
        </div>
    </section>
    <!--PLANNER AREA END-->

    <!--FEATURE AREA START-->
    <section id="feature" data-scroll-index="2">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-sm-12 m-auto">
                    <div class="heading text-center">
                        <h5 class="subtitle">WonderTravel</h5>
                        <h2 class="md-title">SERVICES</h2>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-4 col-sm-6">
                    <div class="app-feature-box">
                        <!-- <i class="fa fa-mobile"></i> -->
                        <h4>Traveler Profile</h4>
                        <!-- <a href="#" class="learn-more">read more</a> -->
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="app-feature-box">
                        <!--  <i class="fa fa-code"></i> -->
                        <h4>Flight Ratings</h4>
                        <!-- <a href="#" class="learn-more">read more</a> -->
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="app-feature-box">
                        <!--  <i class="fa fa-search"></i> -->
                        <h4>Airport Maps</h4>
                        <!-- <a href="#" class="learn-more">read more</a> -->
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="app-feature-box">
                        <!--  <i class="fa fa-envelope-o"></i> -->
                        <h4>Neighborhood Safety</h4>
                        <!-- <a href="#" class="learn-more">read more</a> -->
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="app-feature-box">
                        <!-- <i class="fa fa-desktop"></i> -->
                        <h4>Documents</h4>
                        <!-- <a href="#" class="learn-more">read more</a> -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--FEATURE AREA END-->

    <!-- GALLERY AREA START-->
    <section id="gallery" data-scroll-index="5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 m-auto col-sm-12">
                    <div class="heading text-center">
                        <h5 class="subtitle">WanderTravel</h5>
                        <h2 class="md-title">Gallery</h2>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="gallery-item owl-carousel owl-theme">
                    <div class="gallery-img">
                        <img src="assets/img/gallery/show-1.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="gallery-img">
                        <img src="assets/img/gallery/show-2.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="gallery-img">
                        <img src="assets/img/gallery/show-3.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="gallery-img">
                        <img src="assets/img/gallery/show-4.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="gallery-img">
                        <img src="assets/img/gallery/show-3.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="gallery-img">
                        <img src="assets/img/gallery/show-2.jpg" alt="" class="img-fluid">
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- GALLERY AREA END-->


    <!--FOOTER AREA-->
    <footer id="footer-area" class="" data-scroll-index="6">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="footer-top-area">
                        <h3>Avaliable at</h3>

                        <div class="row">
                            <div class="col-lg-4 col-sm-4">
                                <div class="footer-contact">
                                    <div class="footer-icon">
                                        <i class="icofont icofont-map-pins"></i>
                                    </div>
                                    <h4>Main Office</h4>
                                    <p>22 Suemar St, Mulgrave VIC 3170</p>
                                </div>
                            </div>

                            <div class="col-lg-4 col-sm-4">
                                <div class="footer-contact">
                                    <div class="footer-icon">
                                        <i class="icofont icofont-mobile-phone"></i>
                                    </div>
                                    <h4>Contact now</h4>
                                    <p>+61 451810298</p>
                                    <p>+61 421961250</p>
                                </div>
                            </div>

                            <div class="col-lg-4 col-sm-4">
                                <div class="footer-contact">
                                    <div class="footer-icon">
                                        <i class="icofont icofont-envelope"></i>
                                    </div>
                                    <h4>Email us</h4>
                                    <p>customersupport@gmail.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8 col-sm-8">
                    <div class="footer-content">

                        <h6 class="copy"> &copy; copyrights reserved. 2023</h6>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--FOOTER AREA END-->


    <!--====== SCRIPTS JS ======-->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="assets/js/vendor/bootstrap.min.js"></script>

    <!--====== PLUGINS JS ======-->

    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/scrollit.js"></script>
    <script src="assets/js/owl-carousel.2.3.0.min.js"></script>
    <script src="assets/js/venobox.min.js"></script>

    <!--===== Custom ACTIVE JS=====-->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/Validate.js"></script>
    
    
    <script type="text/javascript">
        (function() {
          var  firebaseConfig = {
            apiKey: "AIzaSyAwnFhsb8czP_Gnva5O1Y-APrcKAf7Q6kM",
            authDomain: "travel-20bf9.firebaseapp.com",
            projectId: "travel-20bf9",
            storageBucket: "travel-20bf9.appspot.com",
            messagingSenderId: "154085552320",
            appId: "1:154085552320:web:925c0611d58ab5ef7bfd25",
            measurementId: "G-8MT43F6CGX"
          };
    
        firebase.initializeApp(firebaseConfig);
        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                // User is signed in.
                document.getElementById("userDisplay").textContent = user.email;
            } else {
                // No user is signed in.
                document.getElementById("userDisplay").textContent = "";
            }
        });

        var push_to_firebase = function(data) {
          alert("Thanks for Filling Form. We'll  get back to you as soon as possible.");
          var db = firebase.firestore();
    
          db.collection("Planner").add({
            destination: data["destination"],
            startDate: data["startDate"],
            endDate: data["endDate"],
            travelerType: data["travelerType"],
            adults: data["adults"],
            teens: data["teens"],
            kids: data["kids"],
            email: data["email"],
            contactNumber: data["contactNumber"],
            timestamp: Date.now()
          })
          .then(function(docRef) {
            console.log("Message sent, ID: ", docRef.id);
            location.reload();
          })
          .catch(function(error) {
            console.error("Message could not be sent: ", error);
          });
        };
    
        var contact_submit = function(e) {
            e.preventDefault(); 
        
            var destination = document.getElementById("destination");
            var startDate = document.getElementById("startDate");
            var endDate = document.getElementById("endDate");
            var travelerType = document.getElementById("travelerType");
            var adults = document.getElementById("adults");
            var teens = document.getElementById("teens");
            var kids = document.getElementById("kids");
            var email = document.getElementById("email");
            var contactNumber = document.getElementById("contactNumber");
const functions = require("firebase-functions");
const admin = require("firebase-admin");
const nodemailer = require("nodemailer");

admin.initializeApp();

exports.sendEmail = functions.firestore
    .document("Planner/{plannerId}")
    .onCreate((snap, context) => {
        const data = snap.data();

        // Set up a Nodemailer transport
        const transporter = nodemailer.createTransport({
            service: "Gmail",
            auth: {
                user: "your-email@gmail.com", // Your Gmail email address
                pass: "your-password", // Your Gmail password or app-specific password
            },
        });

        // Define email content
        const mailOptions = {
            from: "your-email@gmail.com",
            to: "recipient-email@example.com",
            subject: "New Planner Data",
            text: `New Planner Data Submitted:\n
                   Destination: ${data.destination}\n
                   Start Date: ${data.startDate}\n
                   End Date: ${data.endDate}\n
                   ...`, // Include other relevant data
        };

        // Send the email
        return transporter.sendMail(mailOptions, (error, info) => {
            if (error) {
                console.error("Error sending email:", error);
                return;
            }
            console.log("Email sent:", info.response);
        });
    });

            // If there are no validation errors, display a confirmation dialog
            const confirmation = confirm("Are you sure you want to submit the form?");
            
            // If the user confirms, proceed to submit the form
            if (confirmation) {
                var data = {
                    "destination": destination.value,
                    "startDate": startDate.value,
                    "endDate": endDate.value,
                    "travelerType": travelerType.value,
                    "adults": adults.value,
                    "teens": teens.value,
                    "kids": kids.value,
                    "email": email.value,
                    "contactNumber": contactNumber.value
                };
                push_to_firebase(data);
            } else {
                // If the user cancels, do nothing
            }
        };
        
        document.getElementById("submit_msg").addEventListener("click", contact_submit);
        
      })();
    </script>
</body>

</html>